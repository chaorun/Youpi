/*
 * Youpi's CODASYL logical model
 *
 */
digraph codasyl { 
	rankdir = LR;
	node [shape = box, style = filled];

	/* Standalone records */
	"FITS Tables";

	/* Linked records */
	calib [label="Calibration Kit"];
	imgsel [label="Image Selections"];
	task [label="Processing Task"];
	relri [label="Run-Image Relation"];
	carti [label="Cart Item"];
	relsi [label="Survey-Instrument Relation"];
	relit [label="Image-Task Relation"];
	relus [label="User-Survey Relation"];
	reltagi [label="Tag-Image Relation"];
	kind [label="Processing Kind"];
	plugfitsin [label="FITSin Plugin"];
	plugfitsout [label="FITSout Plugin"];
	plugscamp [label="SCAMP Plugin"];
	plugswarp [label="SWARP Plugin"];
	plugother [label="Other Plugin", style=dotted];
	user [label="Django User", style=dashed];
	miscdata [label="Misc Data"];
	configfile [label="Config File"];
	ingrading [label="First Quality Evaluation"];
	outgrading [label="Final Quality Evaluation"];
	incomment [label="First Quality Comment"];
	outcomment [label="Final Quality Comment"];
	siteprofile [label="Site Profile"];
	condornodesel [label="Condor Node Selections"];

	/* Sets */
	calib -> Image;
	Channel -> Image;
	Ingestion -> Image;
	Instrument -> Image;
	Image -> Coaddition;
	Image -> Coaddition;
	Image -> relri;
	Image -> relit;
	Image -> reltagi;
	task -> plugfitsin;
	task -> plugfitsout;
	task -> plugscamp;
	task -> plugswarp;
	task -> plugother[style=dotted];
	Run -> relri;

	user -> carti[style=dashed];
	user -> task[style=dashed];
	user -> Ingestion[style=dashed];
	user -> imgsel[style=dashed];
	user -> miscdata[style=dashed];
	user -> configfile[style=dashed];
	user -> ingrading[style=dashed];
	user -> outgrading[style=dashed];
	user -> siteprofile[style=dashed];
	user -> condornodesel[style=dashed];
	user -> relus[style=dashed];
	user -> Tag[style=dashed];
	plugfitsin -> ingrading[style=dashed];
	plugfitsout -> outgrading[style=dashed];
	
	Instrument -> Channel;
	Instrument -> Run;
	Survey -> relsi;
	Survey -> relus;
	Instrument -> relsi;

	kind -> task;
	kind -> configfile;
	kind -> carti;

	task -> relit;
	Tag -> reltagi;

	incomment -> ingrading;
	outcomment -> outgrading;
} 
